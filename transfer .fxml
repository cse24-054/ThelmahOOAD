<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="transferPane" prefHeight="400.0" prefWidth="600.0"
            style="-fx-background-color: #11366D;"
            xmlns="[http://javafx.com/javafx/23.0.1](http://javafx.com/javafx/23.0.1)"
            xmlns:fx="[http://javafx.com/fxml/1](http://javafx.com/fxml/1)"
            fx:controller="com.bankingsystem.transferController">

    <children>
        <Label layoutX="123.0" layoutY="24.0" text="Transfer Funds Page" textFill="#f4efef">
            <font><Font name="System Bold Italic" size="36.0" /></font>
        </Label>

        <Label layoutX="27.0" layoutY="124.0" text="Amount" textFill="#ebe5e5">
            <font><Font name="System Bold Italic" size="18.0" /></font>
        </Label>
        <!-- ADDED: promptText for usability -->
        <TextField fx:id="amountField" layoutX="163.0" layoutY="125.0" prefWidth="275.0" promptText="Enter amount (e.g., 100.00)" />

        <Label layoutX="27.0" layoutY="172.0" text="Transfer To" textFill="#f4f2f2">
            <font><Font name="System Bold Italic" size="18.0" /></font>
        </Label>
        <MenuButton fx:id="transferToButton" layoutX="163.0" layoutY="173.0"
                    prefWidth="275.0" text="Select Destination Account">
            <!-- Items populated by transferController.populateDestinationDropdown() -->
        </MenuButton>

        <Label layoutX="27.0" layoutY="227.0" text="Transfer From" textFill="#fdf8f8">
            <font><Font name="System Bold Italic" size="18.0" /></font>
        </Label>

        <!-- CRITICAL FIX: The missing Label element is added here.
             It replaces the redundant 'transferFromButton' that was confusing the flow. -->
        <Label fx:id="sourceAccountLabel" layoutX="163.0" layoutY="230.0"
               prefWidth="380.0" text="Loading account details..." textFill="#f0f0f0">
            <font><Font name="System Italic" size="14.0" /></font>
        </Label>

        <Label fx:id="messageLabel" layoutX="33.0" layoutY="280.0" prefHeight="30.0" prefWidth="530.0" wrapText="true">
            <font>
                <Font name="System Bold" size="14.0" />
            </font>
            <!-- Changed Color tag to hex string for simplicity -->
            <textFill>#f0f0f0</textFill>
        </Label>

        <!-- ADDED: Back Button to use the handleBack method in the controller -->
        <Button layoutX="33.0" layoutY="322.0"
                prefWidth="118.0" text="â† Back"
                onAction="#handleBack">
            <font><Font name="System Bold Italic" size="18.0" /></font>
        </Button>

        <!-- Transfer Button -->
        <Button fx:id="transferButton" layoutX="432.0" layoutY="322.0"
                prefWidth="118.0" text="Transfer"
                onAction="#handleTransfer">
            <font><Font name="System Bold Italic" size="18.0" /></font>
        </Button>
    </children>
</AnchorPane>
